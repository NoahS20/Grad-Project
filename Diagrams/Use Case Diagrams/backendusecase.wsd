@startuml
actor User

rectangle System {
  User -- (Post Data) : "Send Data to the System"
  User -- (Upload File) : "Upload a File to the System"
  User -- (Upload Question) : "Upload a Question File to the System"
  User -- (Upload Python Files) : "Upload Both Question and Answer Files"
}

(Post Data) .> (sendToModel) : "Send data for processing"
(sendToModel) .> (get_ai_response) : "Get AI response"
(get_ai_response) .> (External API) : "External AI API call"

(Upload File) .> (fileprocessing) : "Process the uploaded file"
(fileprocessing) .> (saveFile) : "Save the file"
(fileprocessing) .> (sendToModel) : "Send processed file for AI response"
(sendToModel) .> (get_ai_response) : "Get AI response"
(get_ai_response) .> (External API) : "External AI API call"

(Upload Question) .> (questionprocessing) : "Process the question file"
(questionprocessing) .> (saveFile) : "Save the question file"
(questionprocessing) .> (sendToModel) : "Send processed question for AI response"
(sendToModel) .> (get_ai_response) : "Get AI response"
(get_ai_response) .> (External API) : "External AI API call"

(Upload Python Files) .> (questionprocessing) : "Process the question file"
(Upload Python Files) .> (fileprocessing) : "Process the answer file"
(fileprocessing) .> (saveFile) : "Save the answer file"
(questionprocessing) .> (saveFile) : "Save the question file"
(fileprocessing) .> (sendToModel) : "Send processed files for AI response"
(sendToModel) .> (get_ai_response) : "Get AI response"
(get_ai_response) .> (External API) : "External AI API call"
@enduml
